# Orga + MCD

---

| en tant que | j'ai besoin de | affin de |
|---|---|---|
| user | fouchette | manger |
| user | chaise | assoir |
| user | table | manger |
| user | lit | dormir |
| user | douche | etre propre |
| user | pates | survivre |

---
| nom | utilisation | table |
|---|---|---|
user | utilise des produits | user
produit | fourchette, table, douche | product
categorie des produits | couverts, meubles, aliments | category
fonction des produits | manger, assoir, dormir | function
lieu ou trouver les produits | cuisine, chambre, salon | place

---

> user peut utiliser plusieur produit 1:N
> un produit peut etre utiliser par un user 1:1

> une categorie conserne plusieur produit 1:N
> plusieur produit composent une categorie N:1
> un produit a une categorie 1:1

>une fonction peut etre rempli par plusieur produit 1:N
> un produit peut avoir plusieur fonction 1:N

>un lieu peut avoir plusieur produits 1:N
> un produit peut avoir plusieur lieu 1:N

---

- user
  - id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
  - firstname VARCHAR(255) NOT NULL
  - lastname VARCHAR(255) NOT NULL
  - email TEXT UNIQUE NOT NULL
  - password TEXT NOT NULL
  - created_at TIMESTAMPTZ NOT NULL DEFAULT Now()
  - updated_at TIMESTAMPTZ

- product
  - id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
  - name VARCHAR(255) NOT NULL
  - user_id INT NOT NULL REFERENCES "user" ("id")
  - function_id INT NOT NULL REFERENCES "function" ("id")
  - created_at TIMESTAMPTZ NOT NULL DEFAULT Now()
  - updated_at TIMESTAMPTZ

- product_has_category
  - product_id  INT NOT NULL REFERENCES "product" ("id")
  - category_id INT NOT NULL REFERENCES "category" ("id")
  - created_at TIMESTAMPTZ NOT NULL DEFAULT Now()
  - updated_at TIMESTAMPTZ

- category
  - id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
  - name VARCHAR(255) NOT NULL
  - created_at TIMESTAMPTZ NOT NULL DEFAULT Now()
  - updated_at TIMESTAMPTZ

- function
  - id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
  - name VARCHAR(255) NOT NULL
  - created_at TIMESTAMPTZ NOT NULL DEFAULT Now()
  - updated_at TIMESTAMPTZ

- product_has_place
  - product_id INT NOT NULL REFERENCES "product" ("id")
  - place_id INT NOT NULL REFERENCES "place" ("id")
  - created_at TIMESTAMPTZ NOT NULL DEFAULT Now()
  - updated_at TIMESTAMPTZ

- place
  - id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
  - name VARCHAR(255) NOT NULL
  - created_at TIMESTAMPTZ NOT NULL DEFAULT Now()
  - updated_at TIMESTAMPTZ

---

## MCD

<http://mocodo.wingi.net/>

```txt
place: code_place, name
situe, 1N place, 0N product
user: code_user, lastname, firstname, email, password

Utilise, 1N function, 11 product
product: code_product, name
possede, 0N user, 01 product

function: code_use, function
Appartient, 1N category, 11 product
category: code_category, name
```

---
